<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>The Looper</title>

    <!-- Внутренние ссылки -->
    <link
      class="local style"
      rel="stylesheet"
      href="./style.css"
      type="text/css"
    />
    <!-- Внешние ссылки -->
    <link
      class="external style"
      rel="stylesheet"
      href="https://cbipope3ka.github.io/TheLooper/style.css"
      type="text/css"
      disabled
    />

    <!-- Превью -->
    <link
      id="previewCSS"
      rel="stylesheet"
      type="text/css"
      href="https://cbipope3ka.github.io/TheLooper/preview.css"
      type="text/css"
      disabled
    />
  </head>

  <body>
    <button
      class="isolated"
      style="width: 100%; height: 3rem"
      onclick="toggleExternalLinks()"
    >
      О НЕТ, ПОЧЕМУ ЖЕ ВСЁ СЛОМАЛОСЬ?!
    </button>
    <div class="nav">ЗАГЛУШКА</div>
    <div id="chatlog"></div>
    <div class="footer"></div>
  </body>
  <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>

  <!-- Внутренние ссылки -->
  <script src="script.js"></script>
  <script
    src="https://cdnjs.cloudflare.com/ajax/libs/html2pdf.js/0.10.1/html2pdf.bundle.min.js"
    integrity="sha512-GsLlZN/3F2ErC5ifS5QtgpiJtWd43JWSuIgh7mbzZ8zBps+dvLusV+eNQATqgA/HdeKFVgA5v3S/cIrLF7QnIg=="
    crossorigin="anonymous"
    referrerpolicy="no-referrer"
  ></script>

  <!-- Внешние ссылки -->
  <script
    src="https://cbipope3ka.github.io/TheLooper/script.js"
    disabled
  ></script>

  <script>
    // Функция для переключения атрибута disabled у всех внешних ссылок
    function toggleExternalLinks() {
      var externalLinks = document.querySelectorAll(".external");

      // Переключаем атрибут disabled у всех внешних ссылок
      externalLinks.forEach(function (link) {
        link.toggleAttribute("disabled");
      });
    }
  </script>
  <!-- Вынос nav.html во внешний файл -->
  <script>
    // Функция для асинхронной загрузки HTML-файла
    function loadExternalContent() {
      var xhr = new XMLHttpRequest();

      // Путь к внешнему HTML-файлу
      var url = "https://cbipope3ka.github.io/TheLooper/nav.html";

      xhr.onreadystatechange = function () {
        if (xhr.readyState === 4 && xhr.status === 200) {
          // Заменяем содержимое элемента с классом "nav" загруженным HTML
          document.querySelector(".nav").innerHTML = xhr.responseText;
        }
      };

      xhr.open("GET", url, true);
      xhr.send();
    }

    // Вызываем функцию при загрузке страницы
    window.onload = loadExternalContent;
  </script>
</html>
